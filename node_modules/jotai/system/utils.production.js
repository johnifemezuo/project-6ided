System.register(["jotai","react"],function(P){"use strict";var m,k,W,x,R,E,M;return{setters:[function(h){m=h.atom,k=h.SECRET_INTERNAL_getScopeContext,W=h.useAtom,x=h.useSetAtom,P({useAtomValue:h.useAtomValue,useUpdateAtom:h.useSetAtom})},function(h){R=h.useContext,E=h.useCallback,M=h.useMemo}],execute:function(){P({atomFamily:X,atomWithDefault:ue,atomWithHash:je,atomWithObservable:Le,atomWithReducer:Q,atomWithReset:H,atomWithStorage:_,createJSONStorage:$,freezeAtom:oe,freezeAtomCreator:se,loadable:Ce,selectAtom:te,splitAtom:ie,useAtomCallback:re,useHydrateAtoms:xe,useReducerAtom:G,useResetAtom:B,waitForAll:ye});const h=P("RESET",Symbol());function H(e){const t=m(e,(r,n,s)=>{s===h?n(t,e):n(t,typeof s=="function"?s(r(t)):s)});return t}const K="w",q="h";function B(e,t){const r=k(t),n=R(r).s;return E(()=>n[K](e,h),[n,e])}function G(e,t,r){const[n,s]=W(e,r),o=E(a=>{s(c=>t(c,a))},[s,t]);return[n,o]}function Q(e,t){const r=m(e,(n,s,o)=>s(r,t(n(r),o)));return r}function X(e,t){let r=null;const n=new Map,s=o=>{let a;if(t===void 0)a=n.get(o);else for(const[i,l]of n)if(t(i,o)){a=l;break}if(a!==void 0)if(r!=null&&r(a[1],o))n.delete(o);else return a[0];const c=e(o);return n.set(o,[c,Date.now()]),c};return s.remove=o=>{if(t===void 0)n.delete(o);else for(const[a]of n)if(t(a,o)){n.delete(a);break}},s.setShouldRemove=o=>{if(r=o,!!r)for(const[a,c]of n)r(c[1],a)&&n.delete(a)},s}const Y=(e,t)=>{do{const[r,...n]=t,s=e.get(r);if(!s)return;if(!n.length)return s[1];e=s[0],t=n}while(t.length)},Z=(e,t,r)=>{do{const[n,...s]=t;let o=e.get(n);if(o||(o=[new WeakMap],e.set(n,o)),!s.length){o[1]=r;return}e=o[0],t=s}while(t.length)},w=()=>{const e=new WeakMap;return(t,r)=>{const n=Y(e,r);if(n)return n;const s=t();return Z(e,r,s),s}},ee=w();function te(e,t,r=Object.is){return ee(()=>{const n=m(()=>({}));return m(s=>{const o=t(s(e)),a=s(n);return"prev"in a&&r(a.prev,o)?a.prev:(a.prev=o,o)})},[e,t,r])}function re(e,t){const r=M(()=>m(null,(s,o,[a,c,i])=>{try{c(e(s,o,a))}catch(l){i(l)}}),[e]),n=x(r,t);return E(s=>{let o=!0,a={};const c=new Promise((i,l)=>{n([s,f=>{o?a={v:f}:i(f)},f=>{o?a={e:f}:l(f)}])});if(o=!1,"e"in a)throw a.e;return"v"in a?a.v:c},[n])}const ne=w(),j=e=>{if(typeof e!="object"||e===null)return;Object.freeze(e);const t=Object.getOwnPropertyNames(e);for(const r of t){const n=e[r];j(n)}return e};function oe(e){return ne(()=>m(t=>j(t(e)),(t,r,n)=>r(e,n)),[e])}function se(e){return(...t)=>{const r=e(...t),n=r.read;return r.read=s=>j(n(s)),r}}const ae=w(),N=e=>!!e.write,ce=e=>typeof e=="function";function ie(e,t){return ae(()=>{const r=new WeakMap,n=(i,l)=>{let f=r.get(i);if(f)return f;const u=l&&r.get(l),b=[],d=[];return i.forEach((L,y)=>{const g=t?t(L):y;d[y]=g;const F=u&&u.atomList[u.keyList.indexOf(g)];if(F){b[y]=F;return}const U=O=>{const I=O(s),v=O(e),S=n(v,I.prev).keyList.indexOf(g);if(S<0||S>=v.length){const p=i[n(i).keyList.indexOf(g)];if(p)return p;throw new Error("splitAtom: index out of bounds for read")}return v[S]},ze=(O,I,v)=>{const S=O(s),p=O(e),A=n(p,S.prev).keyList.indexOf(g);if(A<0||A>=p.length)throw new Error("splitAtom: index out of bounds for write");const De=ce(v)?v(p[A]):v;I(e,[...p.slice(0,A),De,...p.slice(A+1)])};b[y]=N(e)?m(U,ze):m(U)}),u&&u.keyList.length===d.length&&u.keyList.every((L,y)=>L===d[y])?f=u:f={atomList:b,keyList:d},r.set(i,f),f},s=m(()=>({})),o=i=>{const l=i(s),f=i(e),u=n(f,l.prev);return l.prev=f,u.atomList},a=(i,l,f)=>{switch("read"in f&&(console.warn("atomToRemove is deprecated. use action with type"),f={type:"remove",atom:f}),f.type){case"remove":{const u=i(c).indexOf(f.atom);if(u>=0){const b=i(e);l(e,[...b.slice(0,u),...b.slice(u+1)])}break}case"insert":{const u=f.before?i(c).indexOf(f.before):i(c).length;if(u>=0){const b=i(e);l(e,[...b.slice(0,u),f.value,...b.slice(u)])}break}case"move":{const u=i(c).indexOf(f.atom),b=f.before?i(c).indexOf(f.before):i(c).length;if(u>=0&&b>=0){const d=i(e);u<b?l(e,[...d.slice(0,u),...d.slice(u+1,b),d[u],...d.slice(b)]):l(e,[...d.slice(0,b),d[u],...d.slice(b,u),...d.slice(u+1)])}break}}},c=N(e)?m(o,a):m(o);return c},t?[e,t]:[e])}function ue(e){const t=Symbol(),r=m(t),n=m(s=>{const o=s(r);return o!==t?o:e(s)},(s,o,a)=>a===h?o(r,t):o(r,typeof a=="function"?a(s(n)):a));return n}var le=Object.defineProperty,fe=Object.defineProperties,me=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,C=(e,t,r)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,de=(e,t)=>{for(var r in t||(t={}))be.call(t,r)&&C(e,r,t[r]);if(T)for(var r of T(t))he.call(t,r)&&C(e,r,t[r]);return e},pe=(e,t)=>fe(e,me(t));const ve=w();function ye(e){const t=()=>{const r=we(e);return m(n=>{const s=[],o=r.map((a,c)=>{try{return n(a)}catch(i){if(i instanceof Promise)s[c]=i;else throw i}});if(s.length)throw Promise.all(s);return ge(e,o)})};return Array.isArray(e)?ve(t,e):t()}const we=e=>Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t]),ge=(e,t)=>Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,s)=>pe(de({},r),{[n]:t[s]}),{});var Oe=Object.defineProperty,Se=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,D=(e,t,r)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ke=(e,t)=>{for(var r in t||(t={}))Ee.call(t,r)&&D(e,r,t[r]);if(z)for(var r of z(t))Pe.call(t,r)&&D(e,r,t[r]);return e},Re=(e,t)=>Se(e,Ae(t));function $(e){let t,r;return{getItem:n=>{const s=a=>(a=a||"",t!==a&&(r=JSON.parse(a),t=a),r),o=e().getItem(n);return o instanceof Promise?o.then(s):s(o)},setItem:(n,s)=>e().setItem(n,JSON.stringify(s)),removeItem:n=>e().removeItem(n)}}const J=$(()=>localStorage);J.subscribe=(e,t)=>{const r=n=>{n.key===e&&n.newValue&&t(JSON.parse(n.newValue))};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}};function _(e,t,r=J){const n=()=>{try{const o=r.getItem(e);return o instanceof Promise?o.catch(()=>t):o}catch{return t}},s=m(r.delayInit?t:n());return s.onMount=o=>{let a;if(r.subscribe&&(a=r.subscribe(e,o),o(n())),r.delayInit){const c=n();c instanceof Promise?c.then(o):o(c)}return a},m(o=>o(s),(o,a,c)=>{if(c===h)return a(s,t),r.removeItem(e);const i=typeof c=="function"?c(o(s)):c;return a(s,i),r.setItem(e,i)})}function je(e,t,r){const n=(r==null?void 0:r.serialize)||JSON.stringify,s=(r==null?void 0:r.deserialize)||JSON.parse,o=(r==null?void 0:r.subscribe)||(c=>(window.addEventListener("hashchange",c),()=>{window.removeEventListener("hashchange",c)})),a=Re(ke({getItem:c=>{const i=new URLSearchParams(location.hash.slice(1)).get(c);if(i===null)throw new Error("no value stored");return s(i)},setItem:(c,i)=>{const l=new URLSearchParams(location.hash.slice(1));l.set(c,n(i)),r!=null&&r.replaceState?history.replaceState(null,"","#"+l.toString()):location.hash=l.toString()},removeItem:c=>{const i=new URLSearchParams(location.hash.slice(1));i.delete(c),r!=null&&r.replaceState?history.replaceState(null,"","#"+i.toString()):location.hash=i.toString()}},(r==null?void 0:r.delayInit)&&{delayInit:!0}),{subscribe:(c,i)=>o(()=>{const l=new URLSearchParams(location.hash.slice(1)).get(c);i(l!==null?s(l):t)})});return _(e,t,a)}function Le(e,t){const r=m(n=>{var s;let o=e(n);const a=(s=o[Symbol.observable])==null?void 0:s.call(o);a&&(o=a);const c=m(t!=null&&t.initialValue?Ie(t):We(o));let i=()=>{throw new Error("setting data without mount")};const l=b=>{i(b)},f=b=>{i(Promise.reject(b))};let u=null;return c.onMount=b=>(i=b,u||(u=o.subscribe(l,f)),()=>{u==null||u.unsubscribe(),u=null}),{dataAtom:c,observable:o}});return m(n=>{const{dataAtom:s}=n(r);return n(s)},(n,s,o)=>{const{observable:a}=n(r);if("next"in a)a.next(o);else throw new Error("observable is not subject")})}function Ie(e){const t=e.initialValue;return t instanceof Function?t():t}function We(e){return new Promise((t,r)=>{let n=!1,s=!0;const o=e.subscribe({next:a=>{t(a),n=!0,s||o.unsubscribe()},error:r,complete:()=>{r()}});s=!1,n&&o.unsubscribe()})}const V=new WeakMap;function xe(e,t){const r=k(t),n=R(r),s=n.s,o=Me(n),a=[];for(const c of e){const i=c[0];o.has(i)||(o.add(i),a.push(c))}a.length&&s[q](a)}function Me(e){let t=V.get(e);return t||(t=new WeakSet,V.set(e,t)),t}const Ne=w(),Te={state:"loading"};function Ce(e){return Ne(()=>{const t=new WeakMap,r=m(n=>{let s;try{const c=n(e);return m({state:"hasData",data:c})}catch(c){if(c instanceof Promise)s=c;else return m({state:"hasError",error:c})}const o=t.get(s);if(o)return o;const a=m(Te,async(c,i)=>{try{const l=await c(e,{unstable_promise:!0});i(a,{state:"hasData",data:l})}catch(l){i(a,{state:"hasError",error:l})}});return a.onMount=c=>{c()},t.set(s,a),a});return m(n=>{const s=n(r);return n(s)})},[e])}}}});
